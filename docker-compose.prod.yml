version: '3.7'

services:

  # flask-pos:
  #   build: ./backend/pos
  #   container_name: flask-pos-prod
  #   environment:
  #     - FLASK_APP=pos.py
  #     - SAMPLES_DIR=./samples
  #   command: flask run --host 0.0.0.0
  #   ports:
  #     - 5000:5000

  flask:
    build: ./backend/translator
    container_name: flask-translator-prod
    restart: always
    environment:
      - SAMPLES_DIR=./samples
    command: uwsgi app.ini

  angular:
    container_name: angular-demos-prod
    restart: always
    build:
      context: ./frontend
      dockerfile: Dockerfile.prod
    ports:
      - '8080:80'